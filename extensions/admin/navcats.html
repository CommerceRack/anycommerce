


<ul>
<li id='catTreeItemTemplate'>
	<div class='clearfix marginTop'>
		<span class='wait marginLeft'></span>
		<label><input type='checkbox' class='floatLeft marginRight' data-bind='var:category(path); format:assignAttribute; attribute:name;' /></label>
		<div class='ui-icon ui-icon-circle-triangle-e floatLeft marginRight opacity50' data-bind="useParentData:true;extension:admin_navcats;format:openSubcatsIcon;"></div>
		<div class='floatLeft marginLeft'>
			<span data-bind='var: category(pretty); format:text;'></span> (product:	<span data-bind='var: category(@products.length); format:text; defaultVal:0; hideZero:false;'></span> | subcategories: <span data-bind='var: category(@subcategories.length); format:text; hideZero:false;'></span> )
		</div>
	</div>	
	<ul data-app-role='categories' data-loadstemplate='catTreeItemTemplate'></ul><!-- doesn't use a databind because it isn't rendered till some other action (ex: a click) occurs -->
</li>


<li id='catTreeNavcatItemTemplate'>
	<div class='clearfix marginTop'>
		<span class='wait'></span>
		<div class='ui-icon ui-icon-circle-triangle-e floatLeft opacity50' data-bind="useParentData:true;extension:admin_navcats;format:openSubcatsIcon;" data-app-role='toggleCategoryIcon'></div>
		<div class='floatLeft marginLeft'>
			<span data-bind='var: category(pretty); format:text;' data-app-role='pretty'></span><span class='hide4lists'> (product:	<span data-bind='var: category(@products.length); format:text; defaultVal:0; hideZero:false;'></span> | subcategories: <span data-bind='var: category(@subcategories.length); format:text; hideZero:false;'></span> )</span>
		</div>
		<div class='floatLeft marginLeft smallButton'>
		<button data-icon-primary='ui-icon-circle-plus' data-text='true' class='marginLeft applyButton hide4lists'  data-verb='CREATE' data-app-click='admin_navcats|adminNavcatsCreateRenameShow'>Add Subcat</button>
		<button data-icon-primary='ui-icon-refresh' data-text='true'  class='applyButton hide4lists' data-verb='RENAME' data-app-click='admin_navcats|adminNavcatsCreateRenameShow'>Rename</button>
		<button data-icon-primary='ui-icon-search' data-text='true' class='applyButton' data-app-click='admin_navcats|categoryProductFinderExec'>Add Product</button>
		<button data-icon-primary='ui-icon-pencil' data-text='true' class='applyButton hide4lists' data-app-click='admin_navcats|categoryEditExec'>Edit Page</button>
		<button data-icon-primary='ui-icon-trash' data-text='true' class='applyButton' data-app-click='admin_navcats|adminNavcatMacroDeleteShow' data-bind='var: category(@subcategories.length); format:hideIfSet;'>Delete</button>
		<span data-app-role='categoryCreateRenameContainer' class='displayNone marginLeft displayInlineBlock'>
			<label>Pretty name <input type='text' name='pretty' value='' maxlength="40" /></label>
			<button class='applyButton' data-app-click="admin_navcats|adminNavcatsMacro" >Add</button>
		</span>
		</div>
	</div>	
	<ul data-app-role='categories' data-loadstemplate='catTreeNavcatItemTemplate' class='marginTop'></ul><!-- doesn't use a databind because it isn't rendered till some other action (ex: a click) occurs -->
</li>


</ul>


<div id='categoriesAndListsTemplate'>
	<h1>Categories and Lists</h1>
	
	<section class='ui-widget ui-widget-content ui-corner-all stdPadding clearfix marginBottom'>
	
		<div class='marginBottom'>
<!--			<button class='floatRight' data-mode='navcats'>Refresh</button> -->
			<h2>Categories</h2>
		</div>
		
		<div data-app-role='navcatsContainer'></div>
	
	</section>

	<section class='ui-widget ui-widget-content ui-corner-all stdPadding clearfix marginBottom' data-app-role='navcatsSection'>
	
		<div class='marginBottom'>
<!--			<button class='floatRight' data-mode='lists'>Refresh</button> -->
			<span data-app-role='categoryCreateRenameContainer' class='displayNone marginLeft floatRight' data-catsafeid='.'><!-- catsafeid is desired by e.adminNavcatsMacro -->
				<label>Pretty name <input type='text' name='pretty' value='' maxlength="40" /></label>
				<input type='hidden' name='type' value='list' />
				<button class='applyButton' data-app-click="admin_navcats|adminNavcatsMacro" >Add</button>
			</span>
			<button class='floatRight applyButton' data-icon-primary='ui-icon-circle-plus' data-text='true'  data-app-click='admin_navcats|adminNavcatsCreateRenameShow' data-verb='LISTCREATE' >Add New List</button>
			<h2>Lists</h2>
		</div>
		
		<div data-app-role='listsContainer' class='navcats_lists'></div>
	
	</section>

</div>