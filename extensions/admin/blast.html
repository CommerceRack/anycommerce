<div id='blastManagerTemplate' data-app-role='slimLeftContainer'>

	<section class='slimLeftNav' data-app-role='slimLeftNav'>

		<h2>Order</h2>
		<div>
			<ul data-app-role="blastmessages_ORDER" class='noPadOrMargin listStyleNone'></ul>
		</div>

		<h2>Customer</h2>
		<div>
			<ul data-app-role="blastmessages_ACCOUNT" class='noPadOrMargin listStyleNone'></ul>
		</div>

		<h2>Product</h2>
		<div>
			<ul data-app-role="blastmessages_PRODUCT" class='noPadOrMargin listStyleNone'></ul>
		</div>

	</section>
	
	<section class='slimLeftContentSection' data-app-role='slimLeftContentSection'>
		<div>
		
		<button>Add Message</button>
		
		</div>
		<div class='ui-widget-content ui-corner-all stdPadding slimLeftContentContainer' data-app-role='slimLeftContentContainer'>
		<!-- page contents will go here -->
		</div>
	</section>

</div>





<div id='blastMessageDetailTemplate' class='clearfix'>

<form action='#' data-app-submit='admin|submitForm'>
<input type='hidden' name='MSGID'  data-tlc="bind $var '.%MSG.MSGID'; apply --select;"  />

<input type='hidden' name='_cmd' value='adminBlastMsgUpdate' />
<input type='hidden' name='_tag/callback' value='showMessaging' />
<input type='hidden' name='_tag/message' value='Your changes have been saved.' />
<input type='hidden' name='_tag/restoreInputsFromTrackingState' value='1' />


<ul>
	<li>Message</li>
	<li>Email</li>
	<li>Push</li>
<!--	<li>SMS</li>-->
</ul>

<fieldset class='labelsAsBreaks alignedLabels alignedInputs'>
	<legend data-tlc="bind $var '.MSGID'; apply --select;"></legend>

	<label>
		<span>From:</span>
		<input type='text' name='%META.email_from' required='required' maxlength="100" data-tlc="bind $var '.%MSG.%META.email_from'; apply --select;" />
	</label>
	<label>
		<span>bcc:</span>
		<input type='text' name='%META.email_bcc' required='required' maxlength="100" data-tlc="bind $var '.%MSG.%META.email_bcc'; apply --select;" />
	</label>


	<label>
		<span>Subject:</span>
		<input type='text' name='SUBJECT' required='required' maxlength="100" data-tlc="bind $var '.%MSG.SUBJECT'; apply --select;" />
	</label>
	
	<label>
		<span>Message:</span>
		<textarea name='BODY' rows='10' required='required' data-tlc="bind $var '.%MSG.BODY'; apply --select;"></textarea>
	</label>
</fieldset>

<div class='buttonset'>
	
	<button data-icon-secondary='ui-icon-arrow-s' data-text='true'>Send Test (activates dd)</button><!--
	to: email, GCM(google cloud messaging), APNS (apple push notification) ADN
	based on selection, shows appropriate input. 
	for test, send type  'EMAIL' or 'CUSTOMER' and then EMAIL='something@somewhere.com' or CUSTOMER=CID
-->
	<button data-app-role='saveButton' class='applyButton floatRight'>Save <span class='numChanges'></span> Changes</button>
</div>

</form>

</div>





<div id='blastToolTemplate'>
<form action='#' novalidate="novalidate">
	<input type='hidden' name='PRT' value='' data-tlc="bind $var '.%MSG.PRT'; apply --select;" />
	<input type='hidden' name='OBJECT' value='' data-tlc="bind $var '.%MSG.OBJECT'; apply --select;" />
	<input type='hidden' name='FORMAT' value='HTML5' />

	<input type='hidden' name='_cmd' value='adminBlastMsgSend' />
	<input type='hidden' name='_tag/callback' value='showMessaging' />
	<input type='hidden' name='_tag/message' value='Your changes have been saved.' />
	<input type='hidden' name='_tag/persistent' value='true' /><!-- leaves success present. important cuz form is NOT cleared so user can easily send another message -->
	<input type='hidden' name='_tag/restoreInputsFromTrackingState' value='1' />


	<fieldset class='labelsAsBreaks alignedLabels alignedInputs marginBottom'>
		<label>
			<span>Recipient:</span>
			<select name='RECIPIENT' required='required' data-tlc="bind $var '.RECIPIENT'; apply --select;" data-panel-selector=".blastToolRecipientInputs" data-input-change='show-panel'>
				<option value='EMAIL' selected="selected" data-show-panel='blastToolEmailInputs'>Email</option>
				<option value='CUSTOMER' selected="selected">Customer</option>
				<option value='GCN' selected="selected">GCN</option>
				<option value='APNS' selected="selected">APNS</option>
				<option value='ADN' selected="selected">ADN</option>
			</select>
		</label>
		
		
		<label>
			<span>Message source:</span>
			<select name='MSGID' data-tlc="bind $var '.@MSGS'; admin_blast#msgsasoptions; apply --prepend;" data-app-change="admin_blast|toggleEmailInputValuesBySource">
				<option value='BLANK' selected="selected">blank</option>
			</select>
		</label>
		
		<label class='blastToolRecipientInputs displayNone' data-panel-id='blastToolEmailInputs'>
			<span>Email address:</span>
			<input type='text' name='EMAIL' required='required' maxlength="100" required="required" data-validation-rules='skipIfHidden'  /><!-- if recipient is passed into the mail tool, this will be visible but disabled. -->
		</label>
	</fieldset>
	
	<fieldset data-app-role='blastToolMsgContent'  class='labelsAsBreaks alignedLabels alignedInputs marginBottom'>
	<!-- any content that is message specific (should get changed when msgid changes) should be within this fieldset -->
		<label>
			<span>Subject:</span>
			<input type='text' name='SUBJECT' required='required' maxlength="100" data-tlc="bind $var '.%MSG.SUBJECT'; apply --select;" />
		</label>
		
		<label>
			<span>Message:</span>
			<textarea name='BODY' rows='10' required='required'  data-tlc="bind $var '.%MSG.BODY'; apply --select;"></textarea>
		</label>
	</fieldset>


	<fieldset class='updateSystemMessageContainer marginBottom'>
	<label>
		<input type='checkbox' name='updateSystemMessage' disabled='disabled' />
		Save these changes to the message <span class='msgType'></span> for all future emails<!-- the .msgType is used to populate the message ID in focus. -->
	</label>
	</fieldset>

	<button class='applyButton' data-app-click="admin|submitForm">Send Email</button>

</form>
</div>
